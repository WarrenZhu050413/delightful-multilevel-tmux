#!/bin/bash
# tmux-level-up - Go up one level (3→2→1→3...)
# Part of 3-level tmux navigation system

set -euo pipefail

# Get current active level
current_level=$(tmux show-option -gv @active_level 2>/dev/null || echo "1")

# Calculate previous level (with wrapping: 1→3, 2→1, 3→2)
case "$current_level" in
    1) target_level=3 ;;
    2) target_level=1 ;;
    3) target_level=2 ;;
    *) target_level=1 ;;  # Fallback to level 1
esac

# Navigate to target level
exec ~/.local/bin/tmux-multilevel/tmux-goto-level "$target_level"